import{B as T,x as $,H as B,q as A,K as N,av as D,aj as F,a7 as I,aB as S,A as R,d as e,_ as j,u as q,a as E,ab as V,o as z,b,c as P,w as s,V as L,e as f,f as n,k as r,F as Q,r as U,g,l as h,m as i,t as m,h as W,j as H,p as K,n as M}from"./index.95a019cf.js";import{V as G}from"./VTextField.c9f308d7.js";const J=T({color:String,inset:Boolean,length:[Number,String],thickness:[Number,String],vertical:Boolean,...$(),...B()},"VDivider"),O=A()({name:"VDivider",props:J(),setup(o,l){let{attrs:d}=l;const{themeClasses:v}=N(o),{textColorClasses:y,textColorStyles:x}=D(F(o,"color")),w=I(()=>{const _={};return o.length&&(_[o.vertical?"maxHeight":"maxWidth"]=S(o.length)),o.thickness&&(_[o.vertical?"borderRightWidth":"borderTopWidth"]=S(o.thickness)),_});return R(()=>e("hr",{class:[{"v-divider":!0,"v-divider--inset":o.inset,"v-divider--vertical":o.vertical},v.value,y.value,o.class],style:[w.value,x.value,o.style],"aria-orientation":!d.role||d.role==="separator"?o.vertical?"vertical":"horizontal":void 0,role:`${d.role||"separator"}`},null)),{}}}),p=o=>(K("data-v-193ed458"),o=o(),M(),o),X=p(()=>i("h2",{class:"pb-1 text-h4 font-weight-medium text-grey-darken-3"},"Panier",-1)),Y=p(()=>i("hr",{class:"shortLine"},null,-1)),Z=["src"],ee={style:{width:"30px"}},te=["value"],ae={class:"text-right"},se={class:"d-flex item-center justify-space-between mb-2"},oe=p(()=>i("div",null," Addition ",-1)),ie={class:"font-weight-bold"},le=p(()=>i("div",{class:"d-flex item-center justify-space-between mb-2"},[i("div",null," Livraison "),i("div",{class:"font-weight-bold"}," $0 ")],-1)),ne={class:"d-flex item-center justify-space-between mb-2"},de=p(()=>i("div",null," Addition ",-1)),ce={class:"font-weight-bold"},re={class:"text-right"},ue={__name:"CartView",setup(o){const l=q(),d=E();V(["mdi-linkedin","mdi-email","mdi-github","mdi-facebook"]);const v=V("");z(async()=>{await l.getPaniers()});const y=async(c,t)=>{var a;try{const u=await l.updateQuantity(c,t);d.showSnack(u==null?void 0:u.message),await l.getPaniers()}catch(u){d.showSnack((a=u==null?void 0:u.data)==null?void 0:a.message)}},x=async c=>{var t;try{const a=await l.removeItem(c);d.showSnack(a==null?void 0:a.message),await l.getPaniers()}catch(a){d.showSnack((t=a==null?void 0:a.data)==null?void 0:t.message)}},w=async()=>{var c;try{const t=await l.resetPanier();d.showSnack(t==null?void 0:t.message),await l.getPaniers()}catch(t){d.showSnack((c=t==null?void 0:t.data)==null?void 0:c.message)}},_=async()=>{var c;try{const t=await l.place();d.showSnack(t==null?void 0:t.message),await l.getPaniers()}catch(t){d.showSnack((c=t==null?void 0:t.data)==null?void 0:c.message)}},k=I(()=>l.paniers.reduce((c,t)=>c+t.prixTotal,0));return(c,t)=>(b(),P("div",null,[e(L,{class:"px-2 py-5"},{default:s(()=>[e(f,null,{default:s(()=>[e(n,{cols:"12"},{default:s(()=>[X,Y]),_:1})]),_:1}),e(f,{class:"pa-0 ma-0"},{default:s(()=>[e(n,{cols:"1 text-h6"},{default:s(()=>[r(" Produits ")]),_:1}),e(n,{cols:"3 text-h6"},{default:s(()=>[r(" Nom ")]),_:1}),e(n,{cols:"2 text-h6"},{default:s(()=>[r(" Prix ")]),_:1}),e(n,{cols:"2 text-h6"},{default:s(()=>[r(" Quantite ")]),_:1}),e(n,{cols:"2 text-h6"},{default:s(()=>[r(" Total ")]),_:1}),e(n,{cols:"2 text-h6"},{default:s(()=>[r(" Action ")]),_:1})]),_:1}),(b(!0),P(Q,null,U(g(l).paniers,(a,u)=>(b(),W(f,{class:"ma-0 pa-0",align:"center",key:u,style:{"border-bottom":"1px solid #ebebeb"}},{default:s(()=>[e(n,{cols:"1"},{default:s(()=>[i("img",{class:"rounded",width:"50",src:`${g(H)+a.produit.cheminImage}`},null,8,Z)]),_:2},1024),e(n,{cols:"3"},{default:s(()=>[r(m(a.produit.nom),1)]),_:2},1024),e(n,{cols:"2"},{default:s(()=>[r(" $"+m(a.produit.prix),1)]),_:2},1024),e(n,{cols:"2",class:"d-flex items-center",style:{gap:"10px"}},{default:s(()=>[e(h,{disabled:a.quantite<2,density:"compact",color:"primary",style:{color:"white !important"},onClick:C=>y(a.produit.produitId,a.quantite-1),class:"text-white",icon:"mdi-minus"},null,8,["disabled","onClick"]),i("div",ee,[i("input",{value:a.quantite,readonly:"true",style:{width:"30px",height:"30px",border:"1px solid grey","text-align":"center"},type:"number"},null,8,te)]),e(h,{onClick:C=>y(a.produit.produitId,a.quantite+1),density:"compact",color:"primary",style:{color:"white !important"},class:"text-white",icon:"mdi-plus"},null,8,["onClick"])]),_:2},1024),e(n,{cols:"2"},{default:s(()=>[r(" $"+m(a.prixTotal),1)]),_:2},1024),e(n,{cols:"2"},{default:s(()=>[e(h,{onClick:C=>x(a.produit.produitId),density:"compact",color:"red",style:{color:"white !important"},class:"text-white",icon:"mdi-close"},null,8,["onClick"])]),_:2},1024)]),_:2},1024))),128)),e(f,{class:"mt-8",align:"center"},{default:s(()=>[e(n,{cols:"8"},{default:s(()=>[e(G,{style:{width:"80%"},modelValue:v.value,"onUpdate:modelValue":t[0]||(t[0]=a=>v.value=a),label:"Enter votre addresse",rounded:"",variant:"outlined"},{"append-inner":s(()=>[e(h,{color:"primary"},{default:s(()=>[r(" Submit")]),_:1})]),_:1},8,["modelValue"])]),_:1}),e(n,{cols:"4"},{default:s(()=>[i("div",ae,[e(h,{disabled:g(l).paniers.length<1,onClick:w,color:"primary",round:""},{default:s(()=>[r("EFFACER PANIER ")]),_:1},8,["disabled"])]),e(O,{class:"my-3",color:"primary"}),i("div",null,[i("div",se,[oe,i("div",ie," $"+m(k.value),1)]),le,i("div",ne,[de,i("div",ce," $"+m(k.value),1)]),i("div",re,[e(h,{onClick:_,disabled:g(l).paniers.length<1,color:"primary",size:"small"},{default:s(()=>[r("Payez")]),_:1},8,["disabled"])])])]),_:1})]),_:1})]),_:1})]))}};var me=j(ue,[["__scopeId","data-v-193ed458"]]);export{me as default};
